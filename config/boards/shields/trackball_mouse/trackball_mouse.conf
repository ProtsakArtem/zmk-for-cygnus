# Enable Pointing Device Support
CONFIG_ZMK_POINTING=y

# Enable SPI
CONFIG_SPI=y
CONFIG_INPUT=y

# Bluetooth Configuration
CONFIG_ZMK_BLE=y
CONFIG_ZMK_KEYBOARD_NAME="ZMK Trackball"
CONFIG_BT_MAX_CONN=5
CONFIG_BT_MAX_PAIRED=5
CONFIG_BT_CTLR_TX_PWR_PLUS_8=y

# Experimental connection fixes - sometimes cause issues, trying without first if unstable
# CONFIG_ZMK_BLE_EXPERIMENTAL_CONN=y

# CRITICAL: Fix for "driver error" / reconnection loops on Windows
# This forces the device to act as a generic HID without requiring strict GATT subscription
CONFIG_BT_GATT_ENFORCE_SUBSCRIPTION=n

# Clear bonds on start (DEBUGGING ONLY - REMOVE AFTER TEST)
# This forces the device to forget all pairings on every boot.
# You will need to "Forget" the device on PC every time you restart the mouse.
# If this fixes the "reconnection" issue (by making every connection a "new" one),
# then the problem is definitely in the bonding data storage or negotiation.
CONFIG_ZMK_BLE_CLEAR_BONDS_ON_START=y

# Power Management
CONFIG_ZMK_SLEEP=n
